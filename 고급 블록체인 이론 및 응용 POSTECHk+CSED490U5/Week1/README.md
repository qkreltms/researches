## 1.1. Introduction to the Course

    - Advanced Consensus Algorithms
    - Blockchain Scalability
        - 확장성, 안정성, 탈중앙화 3가지를 동시에 만족시키기 어렵다.
        - 사용자가 늘더라도 TPS(Transaction per seconds)에 문제가 없도록 하는 방법 소개
    - Mining Pool Protocol
    - Ethereum 2.0
        - PoW => PoS
    - Decentralized Identity
        - 개인의 신원을 개인이 관리

## 1.2. Review of Basic Consensus Algorithms

- Needs of distributed consensus
  - 중앙 통제장치가 없는 상황에서 모두가 동일한 장부를 갖고있다.
  - 네트워크의 제약사항에도 불구하고 모두가 동일한 데이터를 갖고 있어야 한다.
- Block chain
  - 장부는 블록 단위로 나누어서 구성되어 있고
    - 블록에는 일정한 수의 거래 내역이 작업 증명과 함께 담겨 있으며
    - 그 블록의 해쉬값은 정해진 만큼의 여러 자리수의 0으로 시작한다.(매직넘버)
    - 각 블록은 자기보다 앞에 있는 이전 블록의 해쉬값을 포함한다.
    - 만약 장부를 변경하거나 순서를 변경한다면 해쉬 값이 변경되게 되고 연쇄적으로 해쉬값을 변경하게 된다.
    - 이경우 결국 매직넘버를 찾기위해 작업 증명을 다시 해야된다.
    - 작업 증명을 통해 해쉬 값을 찾으면 코인이 보상으로 주어진다.(+ 수수료)
    - 매직넘버는 코인에 따라 일정 주기별로 풀수 있도록 랜덤하게 변경된다.
- Proof of Work
  - https://namu.wiki/w/proof-of-work
  - 해시 함수 계산을 통한 가장 많은 계산 작업을 통해 체인이 가장 많이 연결되어있는 장부가 신뢰할 만한 올바른 장부이다.
  - 한 마이너가 전체 작업의 51%을 처리가 가능하다면 장부를 조작할 수 있다.
  - 단점
    - 불필요한 전력소모
    - 마이너들 끼리 pool을 만들어 컴퓨팅 자원을 합치고 보상을 나눠갖는 체계를 만들게 되었고 결국 중앙화를 이루게된다.
- Proof of Stake
  - https://www.youtube.com/watch?v=M3EFi_POhps&ab_channel=SimplyExplained
  - 다음 블록을 생성하기위한 후보를 선출한다.(validator)
  - 노드들은 일정 코인을 보증금으로 걸게 된다.
  - 보증금의 양에 따라 다음 validator에 뽑힐 확률이 높아진다.
  - 선출된 노드들은 블록을 블록체인에 추가하게 되고 수수료로 코인을 받게 된다.
  - 작업이 끝난 후 코인은 바로 돌려받지 않고 검증을 거치게 된다.
  - 만약 validator에게서 부정행위가 발생되면 보증금을 압류한다.
  - 전체의 51%의 코인을 갖고 있다면 장부 조작이 가능하다.
  - 단점
    - 코인을 많이 가지고 있는 사람은 validator로 선출될 확률이 높아지고 선출되면 fee를 받으므로 계속 부자가 될 확률이 증가한다.
    - nothing at stake(전혀 위험하지 않다.)
      - ![not](./nothingatstake.PNG)
      - 새로운 블록의 출현으로 스프트 포크가 발생한다면 둘중 아무거나 투표하여 선정하게 됨 validator 은 리스크가 없기 때문에
      - 이 문제를 해결하기 위해...
      - Mining-based PoS(Peercoin, Nxt)
        - staking한 코인의 양에 비례해서 mining이 쉬워짐
      - Leader-based PoS(Cardano)
        - staking한 코인에 비례해 미리 리더를 선출하여 블록 결정을 맡김
      - Voting-based PoS(Ethereum 2.0)
        - validator 선출 랜덤
        - staking한 코인에 비례해 투표력이 강해지고 보상이 정해짐
- Hybrid PoW+PoS
  - 참여자들의 Computing power + Staking한 코인예 비례해 채굴이 쉬워짐
  - 또는 PoW로 생성된 블록을 PoS방식으로 검증
  - QuarkChain, Hypercase, Decred
